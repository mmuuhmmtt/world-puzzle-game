(()=>{var t,e={825:(t,e,i)=>{"use strict";i.d(e,{eI:()=>P,uc:()=>T});var s=i(2512);const r=JSON.parse('{"bundles":[{"name":"game","assets":[{"name":"logo","srcs":"assets/core/logo_white.png"},{"name":"background","srcs":"assets/background.png"},{"name":"circle","srcs":"assets/circle.png"},{"name":"circle0","srcs":"assets/circle0.png"},{"name":"circle2","srcs":"assets/circle2.png"},{"name":"circle-in","srcs":"assets/circle-in.png"},{"name":"circle-out","srcs":"assets/circle-out.png"},{"name":"gray-pane","srcs":"assets/gray-pane.png"},{"name":"green-pane","srcs":"assets/green-pane.png"},{"name":"orange-pane","srcs":"assets/orange-pane.png"},{"name":"bubble-white","srcs":"assets/bubble-white.png"},{"name":"hand","srcs":"assets/hand.png"},{"name":"tick","srcs":"assets/tick.png"},{"name":"cross","srcs":"assets/cross.png"}]},{"name":"fonts","assets":[{"name":"font","srcs":"assets/Sniglet-Regular.ttf"}]}]}'),a={extension:s.ExtensionType.ResolveParser,test:t=>s.settings.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:s.resolveTextureUrl.parse};s.extensions.add(a);var n=i(6358),o=i(4607),l=i(2067);class h{constructor(t,e){this.letters=this.parseLetters(t),this.words=this.parseWords(e),this.gridSize=this.calculateGridSize(),this.foundWords=new Set}parseLetters(t){return t.split(",").map(t=>t.trim().toUpperCase())}parseWords(t){return t.split("|").map(t=>{const[e,i,s,r]=t.split(",");return{x:parseInt(e),y:parseInt(i),word:s.toUpperCase(),direction:r.toUpperCase(),isHorizontal:"H"===r.toUpperCase(),isFound:!1}})}calculateGridSize(){let t=0,e=0;return this.words.forEach(i=>{const s=i.word.length;i.isHorizontal?(t=Math.max(t,i.x+s),e=Math.max(e,i.y+1)):(t=Math.max(t,i.x+1),e=Math.max(e,i.y+s))}),{width:t,height:e}}checkWord(t){const e=t.toUpperCase();return this.words.find(t=>t.word===e&&!t.isFound)||null}markWordAsFound(t){const e=t.toUpperCase(),i=this.words.find(t=>t.word===e);i&&(i.isFound=!0,this.foundWords.add(e))}isLevelComplete(){return this.words.every(t=>t.isFound)}getFoundCount(){return this.foundWords.size}getTotalCount(){return this.words.length}getLetterAt(t,e){for(const i of this.words){const s=i.word.split("");for(let r=0;r<s.length;r++){let a=i.x,n=i.y;if(i.isHorizontal?a+=r:n+=r,a===t&&n===e)return{letter:s[r],wordData:i}}}return null}generateGridCells(){const t=new Map;for(const e of this.words){const i=e.word.split("");for(let s=0;s<i.length;s++){let r=e.x,a=e.y;e.isHorizontal?r+=s:a+=s;const n=`${r},${a}`;t.has(n)?t.get(n).words.push(e):t.set(n,{x:r,y:a,letter:i[s],isRevealed:!1,words:[e]})}}return Array.from(t.values())}}const d={primary:8141549,primaryLight:10980346,primaryDark:5972406,bgDark:986906,bgMedium:1710638,bgLight:2960708,trayBg:1447466,trayRing:4013404,cellHidden:2763338,cellRevealed:8141549,cellSuccess:2278750,letterBg:4013404,letterActive:8141549,letterBorder:10980346,connectionLine:10980346,connectionGlow:8141549,textPrimary:16777215,textSecondary:12891645,textMuted:7041664,accent:16020150,accentAlt:3718648,success:2278750,error:15680580,warning:16498468,particles:[8141549,10980346,16020150,3718648,12891645],confetti:[8141549,10980346,16020150,3718648,2278750,16498468]};class c extends s.Container{constructor(t,e=60){super(),this.cellData=t,this.cellSize=e,this.letter=t.letter,this.isRevealed=!1,this.init()}init(){this.bgHidden=new s.Graphics,this.bgHidden.beginFill(d.bgLight),this.bgHidden.lineStyle(2,d.primary,.3),this.bgHidden.drawRoundedRect(-this.cellSize/2,-this.cellSize/2,this.cellSize,this.cellSize,8),this.bgHidden.endFill(),this.addChild(this.bgHidden),this.bgRevealed=new s.Graphics,this.bgRevealed.beginFill(d.primary),this.bgRevealed.drawRoundedRect(-this.cellSize/2,-this.cellSize/2,this.cellSize,this.cellSize,8),this.bgRevealed.endFill(),this.bgRevealed.alpha=0,this.addChild(this.bgRevealed),this.letterText=new s.Text(this.letter,{fontFamily:"Sniglet",fontSize:.6*this.cellSize,fill:d.textPrimary,fontWeight:"bold",align:"center"}),this.letterText.anchor.set(.5),this.letterText.alpha=0,this.addChild(this.letterText)}reveal(t=!0){this.isRevealed||(this.isRevealed=!0,this.cellData.isRevealed=!0,t?(n.ZP.to(this.scale,{x:1.2,y:1.2,duration:.15,ease:"back.out(2)",onComplete:()=>{n.ZP.to(this.scale,{x:1,y:1,duration:.1})}}),n.ZP.to(this.bgHidden,{alpha:0,duration:.2}),n.ZP.to(this.bgRevealed,{alpha:1,duration:.2}),n.ZP.to(this.letterText,{alpha:1,duration:.2})):(this.bgHidden.alpha=0,this.bgRevealed.alpha=1,this.letterText.alpha=1))}showHint(){this.isRevealed||n.ZP.to(this.letterText,{alpha:.5,duration:.3,yoyo:!0,repeat:1})}getIsRevealed(){return this.isRevealed}}class u extends s.Container{constructor(t,e={}){super(),this.levelData=t,this.cellSize=e.cellSize||55,this.cellGap=e.cellGap||5,this.cells=new Map,this.init()}init(){this.createGrid(),this.centerGrid()}createGrid(){this.levelData.generateGridCells().forEach(t=>{const e=new c(t,this.cellSize);e.x=t.x*(this.cellSize+this.cellGap),e.y=t.y*(this.cellSize+this.cellGap),this.addChild(e),this.cells.set(`${t.x},${t.y}`,e)})}centerGrid(){const t=this.levelData.gridSize,e=t.width*(this.cellSize+this.cellGap)-this.cellGap,i=t.height*(this.cellSize+this.cellGap)-this.cellGap;this.pivot.set(e/2,i/2)}revealWord(t,e=.1){const i=t.word.split(""),s=[];for(let e=0;e<i.length;e++){let i=t.x,r=t.y;t.isHorizontal?i+=e:r+=e;const a=this.cells.get(`${i},${r}`);a&&!a.isRevealed&&s.push(a)}return s.forEach((t,i)=>{n.ZP.delayedCall(i*e,()=>{t.reveal(!0)})}),s.length}getCell(t,e){return this.cells.get(`${t},${e}`)||null}isAllRevealed(){for(const t of this.cells.values())if(!t.isRevealed)return!1;return!0}playEntranceAnimation(){this.alpha=0,this.scale.set(.8),n.ZP.to(this,{alpha:1,duration:.5,ease:"power2.out"}),n.ZP.to(this.scale,{x:1,y:1,duration:.5,ease:"back.out(1.5)"})}getCellsForWord(t){const e=[],i=t.word.split("");for(let s=0;s<i.length;s++){let i=t.x,r=t.y;t.isHorizontal?i+=s:r+=s;const a=this.cells.get(`${i},${r}`);a&&e.push(a)}return e}}class p extends s.Container{constructor(t,e=40){super(),this.letter=t,this.radius=e,this.isSelected=!1,this.originalPosition={x:0,y:0},this.init()}init(){this.outerCircle=s.Sprite.from("circle-out"),this.outerCircle.anchor.set(.5),this.outerCircle.width=2*this.radius,this.outerCircle.height=2*this.radius,this.addChild(this.outerCircle),this.innerCircle=s.Sprite.from("circle-in"),this.innerCircle.anchor.set(.5),this.innerCircle.width=2*this.radius,this.innerCircle.height=2*this.radius,this.innerCircle.alpha=0,this.addChild(this.innerCircle),this.letterText=new s.Text(this.letter,{fontFamily:"Sniglet",fontSize:1.1*this.radius,fill:16777215,fontWeight:"bold",align:"center"}),this.letterText.anchor.set(.5),this.addChild(this.letterText),this.eventMode="static",this.cursor="pointer",this.hitArea=new s.Circle(0,0,this.radius)}setSelected(t){this.isSelected!==t&&(this.isSelected=t,t?(n.ZP.to(this.innerCircle,{alpha:1,duration:.15}),n.ZP.to(this.outerCircle,{alpha:.3,duration:.15}),n.ZP.to(this.scale,{x:1.15,y:1.15,duration:.15,ease:"back.out(2)"})):(n.ZP.to(this.innerCircle,{alpha:0,duration:.15}),n.ZP.to(this.outerCircle,{alpha:1,duration:.15}),n.ZP.to(this.scale,{x:1,y:1,duration:.15})))}saveOriginalPosition(){this.originalPosition={x:this.x,y:this.y}}resetPosition(){n.ZP.to(this,{x:this.originalPosition.x,y:this.originalPosition.y,duration:.2})}bounce(){n.ZP.to(this.scale,{x:1.2,y:1.2,duration:.1,yoyo:!0,repeat:1,ease:"power2.out"})}shake(){n.ZP.to(this,{x:this.x+5,duration:.05,yoyo:!0,repeat:5,ease:"power2.inOut"})}getLetter(){return this.letter}getIsSelected(){return this.isSelected}}class g extends s.Container{constructor(t,e={}){super(),this.letters=t,this.trayRadius=e.trayRadius||120,this.letterRadius=e.letterRadius||35,this.letterCircles=[],this.selectedLetters=[],this.isDragging=!1,this.onWordSubmit=e.onWordSubmit||(()=>{}),this.onWordChange=e.onWordChange||(()=>{}),this.init()}init(){this.createBackground(),this.createLetters(),this.createConnectionLine(),this.createCurrentWordDisplay(),this.setupInteraction()}createBackground(){this.bgCircle=new s.Graphics,this.bgCircle.beginFill(d.trayBg,.9),this.bgCircle.drawCircle(0,0,this.trayRadius+20),this.bgCircle.endFill(),this.addChild(this.bgCircle),this.outerGlow=new s.Graphics,this.outerGlow.lineStyle(3,d.primary,.4),this.outerGlow.drawCircle(0,0,this.trayRadius+20),this.addChild(this.outerGlow),this.innerRing=new s.Graphics,this.innerRing.lineStyle(2,d.trayRing,.5),this.innerRing.drawCircle(0,0,this.trayRadius-10),this.addChild(this.innerRing)}createLetters(){const t=this.letters.length,e=2*Math.PI/t,i=-Math.PI/2;this.letters.forEach((t,s)=>{const r=i+e*s,a=Math.cos(r)*this.trayRadius,n=Math.sin(r)*this.trayRadius,o=new p(t,this.letterRadius);o.x=a,o.y=n,o.saveOriginalPosition(),this.addChild(o),this.letterCircles.push(o)})}createConnectionLine(){this.connectionLine=new s.Graphics,this.addChildAt(this.connectionLine,1)}createCurrentWordDisplay(){this.currentWordText=new s.Text("",{fontFamily:"Sniglet",fontSize:28,fill:16777215,fontWeight:"bold",align:"center",dropShadow:!0,dropShadowColor:0,dropShadowDistance:2,dropShadowAlpha:.5}),this.currentWordText.anchor.set(.5),this.currentWordText.y=-this.trayRadius-80,this.addChild(this.currentWordText)}setupInteraction(){this.eventMode="static",this.hitArea=new s.Circle(0,0,this.trayRadius+50),this.on("pointerdown",this.onPointerDown,this),this.on("pointermove",this.onPointerMove,this),this.on("pointerup",this.onPointerUp,this),this.on("pointerupoutside",this.onPointerUp,this),this.letterCircles.forEach(t=>{t.on("pointerdown",e=>{e.stopPropagation(),this.startDrag(t)})})}startDrag(t){this.isDragging=!0,this.selectLetter(t)}onPointerDown(t){const e=this.toLocal(t.global),i=this.getLetterAtPosition(e);i&&this.startDrag(i)}onPointerMove(t){if(!this.isDragging)return;const e=this.toLocal(t.global),i=this.getLetterAtPosition(e);i&&!i.isSelected&&this.selectLetter(i),this.updateConnectionLine(e)}onPointerUp(){this.isDragging&&(this.isDragging=!1,this.submitWord(),this.clearSelection())}getLetterAtPosition(t){for(const e of this.letterCircles){const i=t.x-e.x,s=t.y-e.y;if(Math.sqrt(i*i+s*s)<this.letterRadius+10)return e}return null}selectLetter(t){this.selectedLetters.includes(t)||(t.setSelected(!0),this.selectedLetters.push(t),this.updateCurrentWord(),t.bounce())}clearSelection(){this.selectedLetters.forEach(t=>{t.setSelected(!1)}),this.selectedLetters=[],this.connectionLine.clear(),this.updateCurrentWord()}updateConnectionLine(t=null){if(this.connectionLine.clear(),0===this.selectedLetters.length)return;this.connectionLine.lineStyle(8,d.connectionLine,.8);const e=this.selectedLetters[0];this.connectionLine.moveTo(e.x,e.y);for(let t=1;t<this.selectedLetters.length;t++){const e=this.selectedLetters[t];this.connectionLine.lineTo(e.x,e.y)}t&&this.isDragging&&(this.selectedLetters[this.selectedLetters.length-1],this.connectionLine.lineTo(t.x,t.y))}updateCurrentWord(){const t=this.getCurrentWord();this.currentWordText.text=t,t.length>0&&n.ZP.fromTo(this.currentWordText.scale,{x:1.2,y:1.2},{x:1,y:1,duration:.15}),this.onWordChange(t)}getCurrentWord(){return this.selectedLetters.map(t=>t.letter).join("")}submitWord(){const t=this.getCurrentWord();t.length>=2&&this.onWordSubmit(t)}playSuccessAnimation(){this.selectedLetters.forEach((t,e)=>{n.ZP.to(t.scale,{x:1.3,y:1.3,duration:.15,delay:.05*e,yoyo:!0,repeat:1})})}playFailAnimation(){this.selectedLetters.forEach(t=>{t.shake()}),n.ZP.to(this.currentWordText,{pixi:{tint:16711680},duration:.1,yoyo:!0,repeat:1,onComplete:()=>{this.currentWordText.tint=16777215}})}shuffleLetters(){const t=this.letters.length,e=2*Math.PI/t,i=-Math.PI/2+Math.random()*Math.PI*2;this.letterCircles.forEach((t,s)=>{const r=i+e*s,a=Math.cos(r)*this.trayRadius,o=Math.sin(r)*this.trayRadius;n.ZP.to(t,{x:a,y:o,duration:.4,ease:"back.out(1.5)",onComplete:()=>{t.saveOriginalPosition()}})})}playEntranceAnimation(){this.alpha=0,this.scale.set(0),n.ZP.to(this,{alpha:1,duration:.3}),n.ZP.to(this.scale,{x:1,y:1,duration:.5,ease:"back.out(1.7)"}),this.letterCircles.forEach((t,e)=>{t.scale.set(0),n.ZP.to(t.scale,{x:1,y:1,duration:.3,delay:.1+.08*e,ease:"back.out(2)"})})}}class y extends s.Container{constructor(t={}){super(),this.gameWidth=t.gameWidth||480,this.gameHeight=t.gameHeight||800,this.levelManager=t.levelManager||null,this.init()}init(){this.createLevelDisplay(),this.createProgressDisplay(),this.createMessageDisplay()}createLevelDisplay(){this.levelContainer=new s.Container,this.levelContainer.x=this.gameWidth/2,this.levelContainer.y=50,this.addChild(this.levelContainer),this.levelText=new s.Text("Level 1",{fontFamily:"Sniglet",fontSize:20,fill:d.textSecondary,fontWeight:"bold"}),this.levelText.anchor.set(.5),this.levelContainer.addChild(this.levelText),this.levelNameText=new s.Text("Ba≈ülangƒ±√ß",{fontFamily:"Sniglet",fontSize:16,fill:d.textMuted}),this.levelNameText.anchor.set(.5),this.levelNameText.y=25,this.levelContainer.addChild(this.levelNameText)}createProgressDisplay(){this.progressContainer=new s.Container,this.progressContainer.x=this.gameWidth/2,this.progressContainer.y=100,this.addChild(this.progressContainer),this.progressBg=new s.Graphics,this.progressBg.beginFill(d.bgLight,.9),this.progressBg.lineStyle(2,d.primary,.5),this.progressBg.drawRoundedRect(-70,-18,140,36,18),this.progressBg.endFill(),this.progressContainer.addChild(this.progressBg),this.progressText=new s.Text("0 / 4",{fontFamily:"Sniglet",fontSize:22,fill:d.textPrimary,fontWeight:"bold"}),this.progressText.anchor.set(.5),this.progressContainer.addChild(this.progressText)}createMessageDisplay(){this.messageText=new s.Text("",{fontFamily:"Sniglet",fontSize:36,fill:d.textPrimary,fontWeight:"bold",align:"center",dropShadow:!0,dropShadowColor:0,dropShadowDistance:3,dropShadowAlpha:.5}),this.messageText.anchor.set(.5),this.messageText.x=this.gameWidth/2,this.messageText.y=this.gameHeight/2,this.messageText.alpha=0,this.addChild(this.messageText)}updateLevelInfo(t,e){this.levelText.text=`Level ${t}`,this.levelNameText.text=e,n.ZP.fromTo(this.levelContainer.scale,{x:1.3,y:1.3},{x:1,y:1,duration:.3,ease:"back.out(2)"})}updateProgress(t,e){this.progressText.text=`${t} / ${e}`,n.ZP.fromTo(this.progressContainer.scale,{x:1.2,y:1.2},{x:1,y:1,duration:.2,ease:"back.out(2)"})}showMessage(t,e="info",i=1.5){switch(this.messageText.text=t,e){case"success":this.messageText.style.fill=d.success;break;case"error":this.messageText.style.fill=d.error;break;default:this.messageText.style.fill=d.textPrimary}n.ZP.killTweensOf(this.messageText),this.messageText.alpha=0,this.messageText.scale.set(.5),n.ZP.to(this.messageText,{alpha:1,duration:.3}),n.ZP.to(this.messageText.scale,{x:1,y:1,duration:.3,ease:"back.out(2)"}),n.ZP.to(this.messageText,{alpha:0,delay:i,duration:.3})}showLevelComplete(t=!1,e=null){this.overlay=new s.Graphics,this.overlay.beginFill(d.bgDark,.85),this.overlay.drawRect(0,0,this.gameWidth,this.gameHeight),this.overlay.endFill(),this.overlay.alpha=0,this.addChild(this.overlay),this.successGlow=new s.Graphics,this.successGlow.beginFill(d.primary,.3),this.successGlow.drawCircle(this.gameWidth/2,this.gameHeight/2-60,80),this.successGlow.endFill(),this.successGlow.alpha=0,this.addChild(this.successGlow);const i=t?"üèÜ T√ºm Leveller\nTamamlandƒ±! üèÜ":"üéâ Level Tamamlandƒ±! üéâ";this.completeText=new s.Text(i,{fontFamily:"Sniglet",fontSize:32,fill:d.primaryLight,fontWeight:"bold",align:"center",dropShadow:!0,dropShadowColor:d.primary,dropShadowDistance:0,dropShadowBlur:10,dropShadowAlpha:.8}),this.completeText.anchor.set(.5),this.completeText.x=this.gameWidth/2,this.completeText.y=this.gameHeight/2-50,this.completeText.alpha=0,this.completeText.scale.set(0),this.addChild(this.completeText),!t&&e&&(this.nextButton=this.createButton("Sonraki Level ‚Üí",()=>{this.hideOverlay(),e()}),this.nextButton.x=this.gameWidth/2,this.nextButton.y=this.gameHeight/2+60,this.nextButton.alpha=0,this.nextButton.scale.set(0),this.addChild(this.nextButton)),n.ZP.to(this.overlay,{alpha:1,duration:.5}),n.ZP.to(this.successGlow,{alpha:1,duration:.5,delay:.2}),n.ZP.to(this.successGlow.scale,{x:1.2,y:1.2,duration:1,repeat:-1,yoyo:!0,ease:"sine.inOut"}),n.ZP.to(this.completeText,{alpha:1,duration:.5,delay:.3}),n.ZP.to(this.completeText.scale,{x:1,y:1,duration:.5,delay:.3,ease:"elastic.out(1, 0.5)"}),this.nextButton&&(n.ZP.to(this.nextButton,{alpha:1,duration:.3,delay:.6}),n.ZP.to(this.nextButton.scale,{x:1,y:1,duration:.4,delay:.6,ease:"back.out(2)"})),this.createConfetti()}createButton(t,e){const i=new s.Container,r=new s.Graphics;r.beginFill(d.primary),r.drawRoundedRect(-100,-25,200,50,25),r.endFill(),i.addChild(r);const a=new s.Graphics;a.beginFill(d.primaryLight,.3),a.drawRoundedRect(-100,-25,200,25,25),a.endFill(),i.addChild(a);const o=new s.Text(t,{fontFamily:"Sniglet",fontSize:20,fill:d.textPrimary,fontWeight:"bold"});return o.anchor.set(.5),i.addChild(o),i.eventMode="static",i.cursor="pointer",i.on("pointerdown",()=>{n.ZP.to(i.scale,{x:.95,y:.95,duration:.1})}),i.on("pointerup",()=>{n.ZP.to(i.scale,{x:1,y:1,duration:.1}),e()}),i.on("pointerupoutside",()=>{n.ZP.to(i.scale,{x:1,y:1,duration:.1})}),i}hideOverlay(){this.overlay&&(n.ZP.to(this.overlay,{alpha:0,duration:.3}),n.ZP.to(this.completeText,{alpha:0,duration:.3}),n.ZP.to(this.successGlow,{alpha:0,duration:.3}),this.nextButton&&n.ZP.to(this.nextButton,{alpha:0,duration:.3}),n.ZP.delayedCall(.3,()=>{this.overlay&&this.removeChild(this.overlay),this.completeText&&this.removeChild(this.completeText),this.successGlow&&this.removeChild(this.successGlow),this.nextButton&&this.removeChild(this.nextButton)}))}createConfetti(){for(let t=0;t<50;t++){const t=new s.Graphics;t.beginFill(d.confetti[Math.floor(Math.random()*d.confetti.length)]),t.drawRect(-5,-5,10,10),t.endFill(),t.x=Math.random()*this.gameWidth,t.y=-20,t.rotation=Math.random()*Math.PI*2,this.addChild(t),n.ZP.to(t,{y:this.gameHeight+50,x:t.x+200*(Math.random()-.5),rotation:t.rotation+Math.random()*Math.PI*4,duration:2+2*Math.random(),delay:.5*Math.random(),ease:"power1.in",onComplete:()=>{this.removeChild(t)}})}}playEntranceAnimation(){this.levelContainer.alpha=0,this.levelContainer.y=10,this.progressContainer.alpha=0,this.progressContainer.y=55,n.ZP.to(this.levelContainer,{alpha:1,y:30,duration:.4,ease:"back.out(1.5)"}),n.ZP.to(this.progressContainer,{alpha:1,y:75,duration:.5,delay:.1,ease:"back.out(1.5)"})}}class m extends s.Container{constructor(t,e={}){super(),this.letterTray=t,this.isActive=!1,this.isAutoplay=e.autoplay||!1,this.tutorialStep=0,this.init()}init(){this.createHand(),this.createInstructionText()}createHand(){this.hand=s.Sprite.from("hand"),this.hand.anchor.set(.2,.1),this.hand.scale.set(.8),this.hand.alpha=0,this.addChild(this.hand)}createInstructionText(){this.instructionText=new s.Text("Harfleri s√ºr√ºkleyerek\nkelime olu≈ütur!",{fontFamily:"Sniglet",fontSize:22,fill:16777215,fontWeight:"bold",align:"center",dropShadow:!0,dropShadowColor:0,dropShadowDistance:2,dropShadowAlpha:.5}),this.instructionText.anchor.set(.5),this.instructionText.alpha=0,this.addChild(this.instructionText)}start(t,e){this.isActive||(this.isActive=!0,this.currentWord=t,this.letterPositions=e,this.showInstruction(),this.animateHand())}showInstruction(){n.ZP.to(this.instructionText,{alpha:1,duration:.5}),n.ZP.to(this.instructionText,{alpha:0,delay:3,duration:.5})}animateHand(){if(this.letterPositions.length<2)return;this.hand.alpha=1;const t=this.letterPositions[0];this.hand.x=t.x,this.hand.y=t.y;const e=n.ZP.timeline({repeat:-1,repeatDelay:1});e.to(this.hand.scale,{x:.7,y:.7,duration:.2});for(let t=1;t<this.letterPositions.length;t++){const i=this.letterPositions[t];e.to(this.hand,{x:i.x,y:i.y,duration:.3,ease:"power2.inOut"})}e.to(this.hand.scale,{x:.8,y:.8,duration:.2}),e.to(this.hand,{x:t.x,y:t.y,duration:.3,ease:"power2.inOut"}),this.handTimeline=e}stop(){this.isActive=!1,this.handTimeline&&this.handTimeline.kill(),n.ZP.to(this.hand,{alpha:0,duration:.3}),n.ZP.to(this.instructionText,{alpha:0,duration:.3})}autoplayWord(t,e){if(!this.letterTray)return;const i=this.letterTray.letterCircles,s=[],r=new Set;for(const e of t){const t=i.findIndex((t,i)=>t.letter===e&&!r.has(i));-1!==t&&(s.push(i[t]),r.add(t))}if(s.length!==t.length)return void console.warn("Autoplay: Kelime harfleri bulunamadƒ±");this.hand.alpha=1;const a=s[0],o=t=>{const e=t.getGlobalPosition();return{x:e.x,y:e.y}},l=o(a);this.hand.x=l.x,this.hand.y=l.y;const h=n.ZP.timeline({onComplete:()=>{n.ZP.to(this.hand,{alpha:0,duration:.3}),e&&e()}});h.call(()=>{this.letterTray.startDrag(a)}),h.to(this.hand.scale,{x:.7,y:.7,duration:.2});for(let t=1;t<s.length;t++){const e=s[t],i=o(e);h.to(this.hand,{x:i.x,y:i.y,duration:.25,ease:"power2.inOut",onComplete:()=>{this.letterTray.selectLetter(e),this.letterTray.updateConnectionLine()}})}h.to(this.hand.scale,{x:.8,y:.8,duration:.15}),h.call(()=>{this.letterTray.onPointerUp()})}setPosition(t,e){this.instructionText.x=t,this.instructionText.y=e-200}}class x extends s.Container{constructor(t={}){super(),this.color=t.color||16777215,this.size=t.size||10,this.lifetime=t.lifetime||1,this.velocity=t.velocity||{x:0,y:0},this.gravity=t.gravity||0,this.elapsed=0,this.init()}init(){this.graphic=new s.Graphics,this.graphic.beginFill(this.color),this.graphic.drawCircle(0,0,this.size),this.graphic.endFill(),this.addChild(this.graphic)}update(t){this.elapsed+=t,this.x+=this.velocity.x*t,this.y+=this.velocity.y*t,this.velocity.y+=this.gravity*t;const e=this.elapsed/this.lifetime;return this.alpha=1-e,this.scale.set(1-.5*e),e>=1}}class v extends s.Container{constructor(){super(),this.particles=[],this.isRunning=!1}emitSuccess(t,e,i=15){const s=d.particles;for(let r=0;r<i;r++){const a=2*Math.PI*r/i,n=100+100*Math.random(),o=new x({color:s[Math.floor(Math.random()*s.length)],size:3+4*Math.random(),lifetime:.5+.5*Math.random(),velocity:{x:Math.cos(a)*n,y:Math.sin(a)*n},gravity:200});o.x=t,o.y=e,this.addChild(o),this.particles.push(o)}this.startUpdate()}emitStars(t,e,i=8){const s=[16766720,16772235,16777215];for(let r=0;r<i;r++){const a=2*Math.PI*r/i+.3*Math.random(),n=50+80*Math.random(),o=new x({color:s[Math.floor(Math.random()*s.length)],size:2+3*Math.random(),lifetime:.3+.3*Math.random(),velocity:{x:Math.cos(a)*n,y:Math.sin(a)*n},gravity:0});o.x=t,o.y=e,this.addChild(o),this.particles.push(o)}this.startUpdate()}emitSelection(t,e){const i=[16755200,16746496,16763904];for(let s=0;s<5;s++){const s=Math.random()*Math.PI*2,r=30+40*Math.random(),a=new x({color:i[Math.floor(Math.random()*i.length)],size:2+2*Math.random(),lifetime:.2+.2*Math.random(),velocity:{x:Math.cos(s)*r,y:Math.sin(s)*r},gravity:0});a.x=t,a.y=e,this.addChild(a),this.particles.push(a)}this.startUpdate()}startUpdate(){this.isRunning||(this.isRunning=!0,this.lastTime=Date.now(),this.updateLoop())}updateLoop(){const t=Date.now(),e=(t-this.lastTime)/1e3;this.lastTime=t;for(let t=this.particles.length-1;t>=0;t--){const i=this.particles[t];i.update(e)&&(this.removeChild(i),this.particles.splice(t,1))}this.particles.length>0?requestAnimationFrame(()=>this.updateLoop()):this.isRunning=!1}clear(){this.particles.forEach(t=>this.removeChild(t)),this.particles=[],this.isRunning=!1}}class w extends s.Container{constructor(t={}){super(),this.size=t.size||50,this.onClick=t.onClick||(()=>{}),this.init()}init(){this.bg=new s.Graphics,this.bg.beginFill(d.bgLight,.9),this.bg.lineStyle(2,d.primary,.5),this.bg.drawCircle(0,0,this.size/2),this.bg.endFill(),this.addChild(this.bg),this.icon=new s.Graphics,this.icon.lineStyle(3,d.primaryLight,1),this.icon.moveTo(-10,-5),this.icon.lineTo(10,-5),this.icon.lineTo(5,-10),this.icon.moveTo(10,-5),this.icon.lineTo(5,0),this.icon.moveTo(10,5),this.icon.lineTo(-10,5),this.icon.lineTo(-5,0),this.icon.moveTo(-10,5),this.icon.lineTo(-5,10),this.addChild(this.icon),this.eventMode="static",this.cursor="pointer",this.on("pointerdown",this.onPress,this),this.on("pointerup",this.onRelease,this),this.on("pointerupoutside",this.onRelease,this)}onPress(){n.ZP.to(this.scale,{x:.9,y:.9,duration:.1})}onRelease(){n.ZP.to(this.scale,{x:1,y:1,duration:.1}),n.ZP.to(this.icon,{rotation:this.icon.rotation+2*Math.PI,duration:.4,ease:"power2.out"}),this.onClick()}playEntranceAnimation(){this.alpha=0,this.scale.set(0),n.ZP.to(this,{alpha:1,duration:.3}),n.ZP.to(this.scale,{x:1,y:1,duration:.4,ease:"back.out(2)"})}}class C{constructor(){this.currentLevelIndex=0,this.levels=this.initLevels()}initLevels(){return[{id:1,name:"Ba≈ülangƒ±√ß",letters:"C,A,T,R",words:"0,0,CAT,H|0,0,CAR,V|1,0,AT,V"},{id:2,name:"Yƒ±ldƒ±zlar",letters:"S,T,A,R",words:"0,0,STAR,H|2,0,ARTS,V"},{id:3,name:"G√ºne≈ü",letters:"S,U,N,T,E",words:"0,0,SUN,H|1,0,USE,V|2,0,NUT,V"},{id:4,name:"Oyun",letters:"P,L,A,Y",words:"0,0,PLAY,H|0,0,PAY,V|1,0,LAP,V"},{id:5,name:"Zaman",letters:"T,I,M,E",words:"0,0,TIME,H|1,0,ITEM,V"},{id:6,name:"Kahraman",letters:"H,E,R,O",words:"0,0,HERO,H|0,0,HER,V|3,0,ORE,V"},{id:7,name:"Ate≈ü",letters:"F,I,R,E",words:"0,0,FIRE,H|0,0,FIR,V|1,0,IRE,V"},{id:8,name:"Kar",letters:"S,N,O,W",words:"0,0,SNOW,H|0,0,SON,V|2,0,OWN,V"},{id:9,name:"Su",letters:"W,A,T,E,R",words:"0,0,WATER,H|0,0,WAR,V|1,0,ATE,V|3,0,EAR,V"},{id:10,name:"Final",letters:"B,R,A,I,N",words:"0,0,BRAIN,H|0,0,BRA,V|2,0,RAIN,V"}]}getCurrentLevel(){return this.levels[this.currentLevelIndex]}nextLevel(){return this.currentLevelIndex<this.levels.length-1?(this.currentLevelIndex++,this.getCurrentLevel()):null}goToLevel(t){return t>=0&&t<this.levels.length?(this.currentLevelIndex=t,this.getCurrentLevel()):null}addLevel(t){const e={id:this.levels.length+1,name:t.name||`Level ${this.levels.length+1}`,letters:t.letters,words:t.words};return this.levels.push(e),e}restart(){return this.currentLevelIndex=0,this.getCurrentLevel()}getTotalLevels(){return this.levels.length}getCurrentLevelNumber(){return this.currentLevelIndex+1}isLastLevel(){return this.currentLevelIndex===this.levels.length-1}getProgress(){return(this.currentLevelIndex+1)/this.levels.length*100}}class f extends s.Container{constructor(){super(),this.isGameOver=!1,this.levelManager=new C,this.init()}init(){this.createBackground(),this.loadCurrentLevel(),this.createWordGrid(),this.createLetterTray(),this.createUI(),this.createTutorial(),this.createParticleSystem(),this.playEntranceAnimations()}createBackground(){this.bg=new s.Graphics,this.bg.beginFill(d.bgDark),this.bg.drawRect(0,0,T,P),this.bg.endFill(),this.addChild(this.bg),this.glowTop=new s.Graphics,this.glowTop.beginFill(d.primary,.1),this.glowTop.drawEllipse(T/2,0,T,200),this.glowTop.endFill(),this.addChild(this.glowTop),this.glowBottom=new s.Graphics,this.glowBottom.beginFill(d.primary,.15),this.glowBottom.drawEllipse(T/2,P,.8*T,300),this.glowBottom.endFill(),this.addChild(this.glowBottom)}loadCurrentLevel(){const t=this.levelManager.getCurrentLevel();this.levelData=new h(t.letters,t.words),console.log("Level Loaded:",{id:t.id,name:t.name,letters:this.levelData.letters,words:this.levelData.words})}createWordGrid(){this.wordGrid=new u(this.levelData,{cellSize:55,cellGap:6}),this.wordGrid.x=T/2,this.wordGrid.y=200,this.addChild(this.wordGrid)}createLetterTray(){this.letterTray=new g(this.levelData.letters,{trayRadius:100,letterRadius:35,onWordSubmit:t=>this.onWordSubmit(t),onWordChange:t=>this.onWordChange(t)}),this.letterTray.x=T/2,this.letterTray.y=P-200,this.addChild(this.letterTray),this.shuffleButton=new w({size:50,onClick:()=>this.letterTray.shuffleLetters()}),this.shuffleButton.x=T/2+150,this.shuffleButton.y=P-200,this.addChild(this.shuffleButton)}createUI(){this.ui=new y({gameWidth:T,gameHeight:P,levelManager:this.levelManager}),this.addChild(this.ui),this.ui.updateProgress(0,this.levelData.getTotalCount()),this.ui.updateLevelInfo(this.levelManager.getCurrentLevelNumber(),this.levelManager.getCurrentLevel().name)}createTutorial(){this.tutorial=new m(this.letterTray),this.tutorial.setPosition(T/2,this.letterTray.y),this.addChild(this.tutorial),this.startTutorial()}startTutorial(){const t=this.levelData.words[0];if(!t)return;const e=[],i=t.word;for(const t of i){const i=this.letterTray.letterCircles.find(i=>i.letter===t&&!e.some(t=>t.circle===i));if(i){const t=i.getGlobalPosition();e.push({x:t.x,y:t.y,circle:i})}}n.ZP.delayedCall(1.5,()=>{this.tutorial.start(i,e)})}onWordSubmit(t){if(this.isGameOver)return;const e=this.levelData.checkWord(t);e?this.onWordFound(e):this.onWordInvalid(t)}onWordChange(t){}onWordFound(t){this.tutorial.stop(),this.levelData.markWordAsFound(t.word),this.letterTray.playSuccessAnimation(),this.wordGrid.revealWord(t,.08),this.wordGrid.getCellsForWord(t).forEach((t,e)=>{n.ZP.delayedCall(.08*e,()=>{const e=t.getGlobalPosition();this.particleSystem.emitSuccess(e.x,e.y,8)})}),this.ui.updateProgress(this.levelData.getFoundCount(),this.levelData.getTotalCount()),this.ui.showMessage("Harika! üéâ","success",1),this.levelData.isLevelComplete()&&this.onLevelComplete()}onWordInvalid(t){this.letterTray.playFailAnimation(),this.levelData.foundWords.has(t.toUpperCase())&&this.ui.showMessage("Zaten buldun!","info",1)}onLevelComplete(){this.isGameOver=!0,n.ZP.delayedCall(1,()=>{const t=this.levelManager.isLastLevel();this.ui.showLevelComplete(t,()=>this.goToNextLevel())})}goToNextLevel(){this.levelManager.nextLevel()&&this.restart()}createParticleSystem(){this.particleSystem=new v,this.addChild(this.particleSystem)}playEntranceAnimations(){this.wordGrid.playEntranceAnimation(),n.ZP.delayedCall(.3,()=>{this.letterTray.playEntranceAnimation()}),n.ZP.delayedCall(.4,()=>{this.shuffleButton.playEntranceAnimation()}),n.ZP.delayedCall(.5,()=>{this.ui.playEntranceAnimation()})}restart(){this.removeChildren(),this.isGameOver=!1,this.init()}loadLevel(t,e){f.LEVEL_LETTERS=t,f.LEVEL_WORDS=e,this.restart()}}const T=480,P=800,b=new s.Application({backgroundColor:0,antialias:!0,hello:!0,width:T,height:P});b.ticker.stop(),n.p8.ticker.add(()=>{b.ticker.update()}),async function(){document.body.appendChild(b.view);let t=await async function(){await s.Assets.init({manifest:r});const t=await s.Assets.loadBundle(["game","fonts"]),e=r.bundles.map(t=>t.name);return s.Assets.backgroundLoadBundle(e),t.default?t.default:t}();console.log("assets",t),n.p8.registerPlugin(o.w,l.t),o.w.registerPIXI(s);const e=new f;b.stage.addChild(e)}()},4654:()=>{}},i={};function s(t){var r=i[t];if(void 0!==r)return r.exports;var a=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,t=[],s.O=(e,i,r,a)=>{if(!i){var n=1/0;for(d=0;d<t.length;d++){for(var[i,r,a]=t[d],o=!0,l=0;l<i.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every(t=>s.O[t](i[l]))?i.splice(l--,1):(o=!1,a<n&&(n=a));if(o){t.splice(d--,1);var h=r();void 0!==h&&(e=h)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,r,a]},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={179:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var r,a,[n,o,l]=i,h=0;if(n.some(e=>0!==t[e])){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var d=l(s)}for(e&&e(i);h<n.length;h++)a=n[h],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(d)},i=self.webpackChunkword_puzzle_mini_game=self.webpackChunkword_puzzle_mini_game||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var r=s.O(void 0,[736],()=>s(825));r=s.O(r)})();